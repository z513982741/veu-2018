<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>watch 监听数据变化</title>
	<script src="../assets/js/vue.js"></script>
</head>
<body>
	<h1>watch 监听数据变化</h1>
	<hr>
	<div id="app">
		<p>今日温度：{{wendu}}度</p>
		<p>穿衣建议：{{chuanyi}}</p>
		<p><button @click="up">升高温度</button><button @click="down">降温温度</button></p>
		{{e.f.g}}
	</div>
	<script>
		var chuanyiArr = ['T恤短袖','夹克长裙','棉衣羽绒服'];

		var app = new Vue({
			el: "#app",
			data: {
				wendu: 14,
				chuanyi: '夹克长裙',
				e: {
					f: {
			        	g: 5
			      }
				}
			},
			methods: {
				up: function(){
					// this.wendu +=5
					this.e.f.g +=5
				},
				down: function(){
					// this.wendu -=5
					this.e.f.g -=5
				}
			},
			watch: {
			    'e.f': {
			    	handler: function(val, oldVal){		
				     	console.log(oldVal)	    	
				    },
				    deep: true
			    }
			}
		})

		//  实例直接调用$watch监控
		// app.$watch('wendu',function(newVal,oldVal){
		// 	if(newVal >= 26){
		// 		this.chuanyi = chuanyiArr[0];
		// 	} else if(newVal < 26 && newVal > 0){
		// 		this.chuanyi = chuanyiArr[1];
		// 	} else if (newVal < 0){
		// 		this.chuanyi = chuanyiArr[2];
		// 	}
		// });

	</script>
</body>
</html>